{"version":3,"sources":["../../src/extensions/first.js"],"names":["args","have","strict","path","query","options","argumentsObject","GET","Object","assign","limit","collection","rows","Error","first","stampit","require","module","exports","methods"],"mappings":"AAAA;;;uDAKA;AAAA,sCAAyBA,IAAzB;AAAyBA,UAAzB;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,2BACsCC,KAAKC,MAAL,CAAYF,IAAZ,EAAkB,CACpD,EAAEG,MAAM,gBAAR,EAA0BC,OAAO,YAAjC,EAA+CC,SAAS,YAAxD,EADoD,EAEpDJ,KAAKK,eAF+C,CAAlB,CADtC,EACQH,IADR,gBACQA,IADR,EACcC,KADd,gBACcA,KADd,sCACqBC,OADrB,EACqBA,OADrB,wCAC+B,EAD/B;AAAA;AAAA,mBAMyB,KAAKE,GAAL,CAAS;AAC9BJ,wBAD8B;AAE9BC,qBAAOI,OAAOC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB,EAAEM,OAAO,CAAT,EAAzB,CAFuB;AAG9BL;AAH8B,aAAT,CANzB;;AAAA;AAMMM,sBANN;;AAAA,kBAYMA,cAAcA,WAAWC,IAZ/B;AAAA;AAAA;AAAA;;AAAA,6CAaWD,WAAWC,IAAX,CAAgB,CAAhB,CAbX;;AAAA;AAAA,kBAeU,IAAIC,KAAJ,CAAU,mCAAV,CAfV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,K;;;;;;;AAHf,IAAMC,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMf,OAAOe,QAAQ,SAAR,CAAb;;AAqBAC,OAAOC,OAAP,GAAiBH,QAAQ;AACvBI,WAAS;AACPL;AADO;AADc,CAAR,CAAjB","file":"first.js","sourcesContent":["'use strict'\n\nconst stampit = require('stampit')\nconst have = require('../have')\n\nasync function first (...args) {\n  let { path, query, options = {} } = have.strict(args, [\n    { path: 'str or str arr', query: 'opt Object', options: 'opt Object' },\n    have.argumentsObject\n  ])\n\n  let collection = await this.GET({\n    path,\n    query: Object.assign({}, query, { limit: 1 }),\n    options\n  })\n\n  if (collection && collection.rows) {\n    return collection.rows[0]\n  } else {\n    throw new Error('first: response is not collection')\n  }\n}\n\nmodule.exports = stampit({\n  methods: {\n    first\n  }\n})\n"]}