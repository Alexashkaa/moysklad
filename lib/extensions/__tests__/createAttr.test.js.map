{"version":3,"sources":["../../../src/extensions/__tests__/createAttr.test.js"],"names":["test","require","Moysklad","createAttrStamp","ATTR_ID","ENTITY_ID","client","compose","create","createAttr","t","ok","equals","deepEqual","id","value","meta","type","href","mediaType","end"],"mappings":"AAAA;;;;AAEA,IAAMA,OAAOC,QAAQ,WAAR,CAAb;AACA,IAAMC,WAAWD,QAAQ,OAAR,CAAjB;AACA,IAAME,kBAAkBF,QAAQ,eAAR,CAAxB;;AAEA,IAAMG,UAAU,sCAAhB;AACA,IAAMC,YAAY,2EAAlB;;AAEAL,KAAK,wCAAL,EAA+C,aAAK;AAClD,MAAMM,SAASJ,SAASK,OAAT,CAAiBJ,eAAjB,EAAkCK,MAAlC,EAAf;AADkD,MAE1CC,UAF0C,GAE3BH,MAF2B,CAE1CG,UAF0C;;;AAIlDC,IAAEC,EAAF,CAAKF,UAAL;AACAC,IAAEE,MAAF,QAAgBH,UAAhB,yCAAgBA,UAAhB,GAA4B,UAA5B;;AAEAC,IAAEG,SAAF,CAAYJ,WAAWL,OAAX,EAAoBC,SAApB,CAAZ,EAA4C;AAC1CS,QAAIV,OADsC;AAE1CW,WAAO;AACLC,YAAM;AACJC,cAAM,cADF;AAEJC,cAAM,kEAAkEb,SAFpE;AAGJc,mBAAW;AAHP;AADD;AAFmC,GAA5C,EASG,sCATH;;AAWAT,IAAEG,SAAF,CAAYJ,WAAWL,OAAX,EAAoB,UAApB,CAAZ,EAA6C;AAC3CU,QAAIV,OADuC;AAE3CW,WAAO;AAFoC,GAA7C,EAGG,sCAHH;;AAKAL,IAAEG,SAAF,CAAYJ,WAAWL,OAAX,EAAoB,CAApB,CAAZ,EAAoC;AAClCU,QAAIV,OAD8B;AAElCW,WAAO;AAF2B,GAApC,EAGG,sCAHH;;AAKAL,IAAEG,SAAF,CAAYJ,WAAWL,OAAX,EAAoB,EAApB,CAAZ,EAAqC;AACnCU,QAAIV,OAD+B;AAEnCW,WAAO;AAF4B,GAArC,EAGG,sCAHH;;AAKA;;AAEAL,IAAEU,GAAF;AACD,CApCD","file":"createAttr.test.js","sourcesContent":["'use strict'\n\nconst test = require('blue-tape')\nconst Moysklad = require('../..')\nconst createAttrStamp = require('../createAttr')\n\nconst ATTR_ID = '48a9dbca-75f3-4f1c-933b-57df18b5169f'\nconst ENTITY_ID = '3e2a8f95-e4d2-4ae7-90a4-e61ff2dde955/55e6f545-b41f-4a72-8b85-363058b68598'\n\ntest('Moysklad#createAttr method (extension)', t => {\n  const client = Moysklad.compose(createAttrStamp).create()\n  const { createAttr } = client\n\n  t.ok(createAttr)\n  t.equals(typeof createAttr, 'function')\n\n  t.deepEqual(createAttr(ATTR_ID, ENTITY_ID), {\n    id: ATTR_ID,\n    value: {\n      meta: {\n        type: 'customentity',\n        href: 'https://online.moysklad.ru/api/remap/1.1/entity/customentity/' + ENTITY_ID,\n        mediaType: 'application/json'\n      }\n    }\n  }, 'should create customentity attribute')\n\n  t.deepEqual(createAttr(ATTR_ID, 'strValue'), {\n    id: ATTR_ID,\n    value: 'strValue'\n  }, 'should create string value attribute')\n\n  t.deepEqual(createAttr(ATTR_ID, 0), {\n    id: ATTR_ID,\n    value: 0\n  }, 'should create number value attribute')\n\n  t.deepEqual(createAttr(ATTR_ID, 42), {\n    id: ATTR_ID,\n    value: 42\n  }, 'should create number value attribute')\n\n  // TODO Add fail test after have fix\n\n  t.end()\n})\n"]}