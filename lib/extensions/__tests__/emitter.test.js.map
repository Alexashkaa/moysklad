{"version":3,"sources":["../../../src/extensions/__tests__/emitter.test.js"],"names":["test","require","EventEmitter","Moysklad","EmitterStamp","PRODUCT_ID","ExtendedMoysklad","compose","skip","t","emitter","ms","eventEmitter","emitted","on","GET","true"],"mappings":"AAAA;;;;AAEA,IAAMA,OAAOC,QAAQ,WAAR,CAAb;AACA,IAAMC,eAAeD,QAAQ,QAAR,CAArB;;AAEA,IAAME,WAAWF,QAAQ,QAAR,CAAjB;AACA,IAAMG,eAAeH,QAAQ,YAAR,CAArB;;AAEA,IAAMI,aAAa,sCAAnB;;AAEA,IAAIC,mBAAmBH,SAASI,OAAT,CAAiBH,YAAjB,CAAvB;;AAEAJ,KAAKQ,IAAL,CAAU,8BAAV;AAAA,uDAA0C,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAClCC,mBADkC,GACxB,IAAIR,YAAJ,EADwB;AAGpCS,cAHoC,GAG/BL,iBAAiB,EAAEM,cAAcF,OAAhB,EAAjB,CAH+B;AAKpCG,mBALoC,GAK1B,KAL0B;;AAMxCH,oBAAQI,EAAR,CAAW,SAAX,EAAsB,gBAAQ;AAC5B;AACAD,wBAAU,IAAV;AACD,aAHD;;AANwC;AAAA,mBAWlCF,GAAGI,GAAH,CAAO,CAAC,gBAAD,EAAmBV,UAAnB,CAAP,CAXkC;;AAAA;;AAaxCI,cAAEO,IAAF,CAAOH,OAAP,EAAgB,mCAAhB;;AAbwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1C;;AAAA;AAAA;AAAA;AAAA","file":"emitter.test.js","sourcesContent":["'use strict'\n\nconst test = require('blue-tape')\nconst EventEmitter = require('events')\n\nconst Moysklad = require('../../')\nconst EmitterStamp = require('../emitter')\n\nconst PRODUCT_ID = '8dff01c6-e06d-413c-a38f-6139eaf4c2c7'\n\nlet ExtendedMoysklad = Moysklad.compose(EmitterStamp)\n\ntest.skip('Moysklad emitter (extension)', async t => {\n  const emitter = new EventEmitter()\n\n  let ms = ExtendedMoysklad({ eventEmitter: emitter })\n\n  let emitted = false\n  emitter.on('request', data => {\n    // console.log(data.uri)\n    emitted = true\n  })\n\n  await ms.GET(['entity/product', PRODUCT_ID])\n\n  t.true(emitted, 'client should emit request events')\n})\n"]}