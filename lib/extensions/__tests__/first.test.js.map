{"version":3,"sources":["../../../src/extensions/__tests__/first.test.js"],"names":["test","require","Moysklad","first","PRODUCT_ID","PRODUCT_NAME","ExtendedMoysklad","compose","t","ms","ok","filter","id","product","equals","name"],"mappings":"AAAA;;;;AAEA,IAAMA,OAAOC,QAAQ,WAAR,CAAb;AACA,IAAMC,WAAWD,QAAQ,OAAR,CAAjB;AACA,IAAME,QAAQF,QAAQ,UAAR,CAAd;;AAEA,IAAMG,aAAa,sCAAnB;AACA,IAAMC,eAAe,YAArB;;AAEA,IAAIC,mBAAmBJ,SAASK,OAAT,CAAiBJ,KAAjB,CAAvB;;AAEAH,KAAK,mCAAL;AAAA,uDAA0C,iBAAMQ,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACpCC,cADoC,GAC/BH,kBAD+B;;;AAGxCE,cAAEE,EAAF,CAAKD,GAAGN,KAAR,EAAe,2BAAf;;AAEA;AACA;AANwC;AAAA,mBAOpBM,GAAGN,KAAH,CAAS,mBAAT,EAA8B,EAAEQ,QAAQ,EAAEC,IAAIR,UAAN,EAAV,EAA9B,CAPoB;;AAAA;AAOpCS,mBAPoC;;;AASxCL,cAAEE,EAAF,CAAKG,OAAL,EAAc,+CAAd;AACAL,cAAEM,MAAF,CAASD,QAAQE,IAAjB,EAAuBV,YAAvB,EAAqC,0DAArC;;AAVwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1C;;AAAA;AAAA;AAAA;AAAA","file":"first.test.js","sourcesContent":["'use strict'\n\nconst test = require('blue-tape')\nconst Moysklad = require('../..')\nconst first = require('../first')\n\nconst PRODUCT_ID = '8dff01c6-e06d-413c-a38f-6139eaf4c2c7'\nconst PRODUCT_NAME = 'Тест 9999+'\n\nlet ExtendedMoysklad = Moysklad.compose(first)\n\ntest('Moysklad#first method (extension)', async t => {\n  let ms = ExtendedMoysklad()\n\n  t.ok(ms.first, 'should add `first` method')\n\n  // TODO Почему не работает с product?\n  // https://support.moysklad.ru/hc/ru/articles/214273398/comments/115000266047\n  let product = await ms.first('entity/assortment', { filter: { id: PRODUCT_ID } })\n\n  t.ok(product, 'should return first item from collection.rows')\n  t.equals(product.name, PRODUCT_NAME, 'should return first product for \"entity/assortment\" path')\n})\n"]}