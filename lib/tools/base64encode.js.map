{"version":3,"sources":["../../src/tools/base64encode.js"],"names":["encode","btoa","value","process","version","nodeVersion","Number","match","Buffer","toString","from","Error","module","exports","base64encode"],"mappings":"AAAA;;AAEA,IAAIA,MAAJ;;AAEA,IAAI,OAAOC,IAAP,KAAgB,WAApB,EAAiC;AAC/B;AACAD,WAAS,gBAAUE,KAAV,EAAiB;AAAE,WAAOD,KAAKC,KAAL,CAAP;AAAoB,GAAhD;AACD,CAHD,MAGO,IAAI,OAAOC,OAAP,KAAmB,WAAnB,IAAkCA,QAAQC,OAA9C,EAAuD;AAC5D;AACA,MAAIC,cAAcC,OAAOH,QAAQC,OAAR,CAAgBG,KAAhB,CAAsB,cAAtB,EAAsC,CAAtC,CAAP,CAAlB;AACAP,WAASK,cAAc,GAAd,GACL,UAAUH,KAAV,EAAiB;AAAE,WAAO,IAAIM,MAAJ,CAAWN,KAAX,EAAkBO,QAAlB,CAA2B,QAA3B,CAAP;AAA6C,GAD3D,GAEL,UAAUP,KAAV,EAAiB;AAAE,WAAOM,OAAOE,IAAP,CAAYR,KAAZ,EAAmBO,QAAnB,CAA4B,QAA5B,CAAP;AAA8C,GAFrE;AAGD,CANM,MAMA;AACL;AACA,QAAM,IAAIE,KAAJ,CAAU,4CAAV,CAAN;AACD;;AAEDC,OAAOC,OAAP,GAAiB,SAASC,YAAT,CAAuBZ,KAAvB,EAA8B;AAC7C,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAM,IAAIS,KAAJ,CAAU,gDAAV,CAAN;AACD;AACD,SAAOX,OAAOE,KAAP,CAAP;AACD,CALD","file":"base64encode.js","sourcesContent":["'use strict'\n\nlet encode\n\nif (typeof btoa !== 'undefined') {\n  // browser\n  encode = function (value) { return btoa(value) }\n} else if (typeof process !== 'undefined' && process.version) {\n  // node\n  let nodeVersion = Number(process.version.match(/^v(\\d+\\.\\d+)/)[1])\n  encode = nodeVersion < 4.5\n    ? function (value) { return new Buffer(value).toString('base64') }\n    : function (value) { return Buffer.from(value).toString('base64') }\n} else {\n  // unknown context\n  throw new Error('base64encode: Can\\'t determine environment')\n}\n\nmodule.exports = function base64encode (value) {\n  if (typeof value !== 'string') {\n    throw new Error('base64encode: value to encode must be a string')\n  }\n  return encode(value)\n}\n"]}