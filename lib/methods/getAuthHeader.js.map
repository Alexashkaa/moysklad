{"version":3,"sources":["../../src/methods/getAuthHeader.js"],"names":["base64encode","require","module","exports","getAuthHeader","login","password","options","getOptions","process","env","MOYSKLAD_LOGIN","MOYSKLAD_PASSWORD"],"mappings":"AAAA;;AAEA;;AAEA,IAAMA,eAAeC,QAAQ,uBAAR,CAArB;;AAEAC,OAAOC,OAAP,GAAiB,SAASC,aAAT,GAA0B;AACzC,MAAIC,cAAJ;AACA,MAAIC,iBAAJ;AACA,MAAIC,UAAU,KAAKC,UAAL,EAAd;;AAEA,MAAID,QAAQF,KAAR,IAAiBE,QAAQD,QAA7B,EAAuC;AACrCD,YAAQE,QAAQF,KAAhB;AACAC,eAAWC,QAAQD,QAAnB;AACD,GAHD,MAGO,IAAIG,WAAWA,QAAQC,GAAnB,IAA0BD,QAAQC,GAAR,CAAYC,cAAtC,IACTF,QAAQC,GAAR,CAAYE,iBADP,EAC0B;AAC/BP,YAAQI,QAAQC,GAAR,CAAYC,cAApB;AACAL,eAAWG,QAAQC,GAAR,CAAYE,iBAAvB;AACD,GAJM,MAIA,IAAID,kBAAkBC,iBAAtB,EAAyC;AAC9CP,YAAQM,cAAR;AACAL,eAAWM,iBAAX;AACD,GAHM,MAGA;AACL,WAAO,IAAP;AACD;;AAED,SAAO,WAAWZ,aAAgBK,KAAhB,SAAyBC,QAAzB,CAAlB;AACD,CApBD","file":"getAuthHeader.js","sourcesContent":["'use strict'\n\n/* global MOYSKLAD_LOGIN, MOYSKLAD_PASSWORD */\n\nconst base64encode = require('../tools/base64encode')\n\nmodule.exports = function getAuthHeader () {\n  let login\n  let password\n  let options = this.getOptions()\n\n  if (options.login && options.password) {\n    login = options.login\n    password = options.password\n  } else if (process && process.env && process.env.MOYSKLAD_LOGIN &&\n    process.env.MOYSKLAD_PASSWORD) {\n    login = process.env.MOYSKLAD_LOGIN\n    password = process.env.MOYSKLAD_PASSWORD\n  } else if (MOYSKLAD_LOGIN && MOYSKLAD_PASSWORD) {\n    login = MOYSKLAD_LOGIN\n    password = MOYSKLAD_PASSWORD\n  } else {\n    return null\n  }\n\n  return 'Basic ' + base64encode(`${login}:${password}`)\n}\n"]}