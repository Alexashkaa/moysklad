# TODO

> Некоторые вопросы и задачи которые возникают в процессе разработки

## Features

- [ ] `X-Lognex-Get-Content` (?)

  ```
  Чтобы получить в ответе непосредственно файл, нужно использовать специальный заголовок X-Lognex-Get-Content со значение true - увидел, что этой информации нет в документации, это будет исправлено.
  ```

  Откуда это? Не могу найти источника. Как работает этот заголовок?

- [ ] Дополнительный метод `Moysklad#request` как основа для запроса (?)

  ```js
  const ms = Moysklad()
  const response = await ms
    .request('entity/customerorder')
    .setHeader('FOO', 'bar') // можно установить заголовок
    .method('GET') // выбор метода
    .toPromise() // выполнение запроса и возвращаение Promise'а
  ```

- [ ] Нужно ли вообще "давить" ошибки в `.GET/POST/...` запросах даже через опцию? Может полностью передать эту возможность `.request` подобному API в "ручное" управление.

- [ ] Прозрачно обработать 308 редирект при обращении к товару по его goodUuid (возможно отдельным модулем?). Или использовать redirect опцию?

- [ ] Отмена fetch запроса (новая спецификация)

- [ ] Добавить уникальный ключ для событий в рамках одного запроса

## Enhancements

- [ ] Подключить matchers отдельным модулем (?)

- [ ] Добавить ссылку на сборку в [unpkg.com](https://unpkg.com/browse/moysklad@0.6.0/dist/moysklad.js) + .min.js версия

- [ ] Изменить интерфейс функций времени `parseTimeString` (нужно задавать часовой пояс и ms по умолчанию включены)

  > Например, когда явно надо указывать время в часовом поясе сервера (загрузить остатки с 0:00 по Москве). Или наоборот работать с другим часовым поясом, когда текущий не совпадает.

  > Проблема в том, что при указании времени в атрибутах нельзя указывать миллисекунды (API 1.1, аналогично ли в 1.2?)

  > Что важнее указывать явно отсутствие миллисекунд в дате или наличие?
